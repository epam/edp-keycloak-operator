apiVersion: v1.edp.epam.com/v1
kind: KeycloakRealmIdentityProvider
metadata:
  name: keycloakrealmidentityprovider-sample
spec:
  realmRef:
    name: keycloakrealm-sample
    kind: KeycloakRealm
  alias: github
  authenticateByDefault: false
  enabled: true
  firstBrokerLoginFlowAlias: "first broker login"
  providerId: "github"
  config:
    clientId: "foo"
    clientSecret: "$secretName:secretKey"
    syncMode: "IMPORT"
    useJwksUrl: "true"
  mappers:
    - name: "test3212"
      identityProviderMapper: "oidc-hardcoded-role-idp-mapper"
      identityProviderAlias: "github"
      config:
        role: "role-tr"
        syncMode: "INHERIT"
    - name: "test-33221"
      identityProviderMapper: "hardcoded-attribute-idp-mapper"
      identityProviderAlias: "github"
      config:
        attribute: "foo"
        "attribute.value": "bar"
        syncMode: "IMPORT"
